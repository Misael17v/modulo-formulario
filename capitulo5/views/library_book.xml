<?xml version="1.0" encoding="UTF-8"?>

<odoo>
    <record id='libreria_libro_action' model='ir.actions.act_window'>
        <field name="name">Libreria De Libros</field>
        <field name="res_model">libreria.libro</field>
        <field name="view_mode">tree,form</field>
    </record>

    <menuitem name="Mi Libreria" id="libreria_base_menu" />
    <menuitem name="Libros" id="libreria_libro_menu" parent="libreria_base_menu" action="libreria_libro_action" />

    <!-- Vista Formulario-->
    <record id="libreria_libro_view_form" model="ir.ui.view">
        <field name="name">Libreria De Libros</field>
        <field name="model">libreria.libro</field>
        <field name="arch" type="xml">
            <form>
                <header>
                    <button name="make_draft" string="Indisponible" type="object" />
                    <button name="make_available" string="Disponible" type="object" />
                    <button name="make_borrowed" string="Prestado" type="object" />
                    <button name="make_lost" string="Perdido" type="object" />
                    <field name="state" widget="statusbar"/>
                </header>
                <header>
                    <button name="log_all_library_members"  string="Registro de Membresia" type="object"/>
                    <button name="create_categories" string="Crear Categorias" type="object"/>
                    <button name="change_release_date" string="Actualizar Fecha" type="object"/>
                    <button name="find_book" string="Encontrar Libro" type="object"/>
                    <button name="filter_books" string="Filtrar Libro" type="object"/>
                    <button name="mapped_books" string="Autores Asignados" type="object"/>
                    <button name="sort_books" string="Ordenar libros" type="object"/>
                </header>
                <group>
                    <field name="name"/>
                    <field name="author_ids" widget="many2many_tags"/>
                </group>
                <group>
                    <field name="category_id"/>
                    <field name="date_release"/>
                </group>
            </form>
        </field>
    </record>

    <!-- Vista de Arbol-->
    <record id="libreria_libro_view_tree" model="ir.ui.view">
        <field name="name">Libreria De Libros</field>
        <field name="model">libreria.libro</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>
                <field name="date_release"/>
                <field name="state"/>
            </tree>
        </field>
    </record>

    <!-- Busqueda-->
    <record id="libreria_libro_view_search" model="ir.ui.view">
        <field name="name">Libreria De Libros</field>
        <field name="model">libreria.libro</field>
        <field name="arch" type="xml">
           <search>
               <field name="name"/>
               <field name="author_ids"/>
               <filter string="Without Authors" name="without authors" domain="[('author_ids', '=', False)]"/>
           </search> 
        </field>
    </record>
    
</odoo>